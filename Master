#include <iostream>
#include <vector>

struct Product {
    std::string name;
    double price;
    std::string specifications;
};

class ShoppingCart {
private:
    std::vector<Product> products;

public:
    void addProduct(const Product& product) {
        products.push_back(product);
    }

        // Виводимо повідомлення коли кошик порожній
    void displayCart() {
        if (products.empty()) {
            std::cout << "The basket is empty." << std::endl;
            return;
        }

        //Вивідимо назву, ціну, характеристику, та список товарів
        std::cout << "Items in cart:" << std::endl;
        for (const auto& product : products) {
            std::cout << "Name: " << product.name << std::endl;
            std::cout << "Price: " << product.price << std::endl;
            std::cout << "Characteristics: " << product.specifications << std::endl;
            std::cout << std::endl;
        }
    }
};

int main() {
    std::vector<Product> availableProducts{
            {"Product name 1", 1000.0, "Features 1"},
            {"Product name 2", 2000.0, "Features 2"},
            {"Product name 3", 3000.0, "Features 3"}
    };

    ShoppingCart cart;

    std::cout << "Welcome to the online store \"Cellmart\"!" << std::endl;

    //Меню магазину. Перегляд товарів, додавання товару в кошик, перегляд кошика, вихід
    while (true) {
        std::cout << std::endl;
        std::cout << "1. View products" << std::endl;
        std::cout << "2. Add product to cart" << std::endl;
        std::cout << "3. View cart" << std::endl;
        std::cout << "4. Exit" << std::endl;
        std::cout << "Select an action: ";

        int choice;
        std::cin >> choice;
        
            //Вивід списку доступних товарів, назви, ціни та валюти
        switch (choice) {
            case 1: {
                std::cout << "Available products:" << std::endl;
                for (size_t i = 0; i < availableProducts.size(); ++i) {
                    const auto& product = availableProducts[i];
                    std::cout << i + 1 << ". " << product.name << " - " << product.price << "UAH" << std::endl;
                }
                break;
            }
            case 2: {
                std::cout << "Enter the number of the product you want to add to the cart:";
                size_t productIndex;
                std::cin >> productIndex;

                //Вивід повідомлення про додавання товару в кошик, та  не правильний номер товару
                if (productIndex > 0 && productIndex <= availableProducts.size()) {
                    const auto& product = availableProducts[productIndex - 1];
                    cart.addProduct(product);
                    std::cout << "The product has been added to the cart." << std::endl;
                } else {
                    std::cout << "Invalid item number." << std::endl;
                }
                break;
            }
            case 3: {
                cart.displayCart();
                break;
            }
            case 4: {
                std::cout << "Goodbye!" << std::endl;
                return 0;
            }
            default: {
                std::cout << "Wrong choice. Try again." << std::endl;
                break;
            }
        }
    }
}
